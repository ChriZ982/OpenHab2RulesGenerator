# OpenHab 2.0 Rules Generator
Application for generating a rules file that can be used with OpenHab 2.0. A file can be easily generated by modifying an input file in form of a table.


## Getting started ##
First of all download the binary file for your system architecture from the [releases](https://github.com/ChriZ982/OpenHab2RulesGenerator/releases). If you have any further questions on how to use the application, feel free to contact me.

You will need the following files to get things working...

### rules.csv ###

This is the table file where all the magic happens. You have to use the following format:

<table>
    <tr>
        <td>OpenHab 2.0 Rules Generator</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Dateiname</td>
        <td>Output.rules</td>
        <td></td>
    </tr>
    <tr>
        <td>Benutzerdefinierter Inhalt</td>
        <td>fixed.rules</td>
        <td></td>
    </tr>
    <tr>
        <td>Regel Vorlagen</td>
        <td>templates.rules</td>
        <td></td>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Tabelle</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>Item</td>
        <td>Aktion</td>
        <td>...</td>
    </tr>
    <tr>
        <td>LightSwitch_LivingRoom</td>
        <td>SWITCH_ON</td>
        <td>...</td>
    </tr>
    <tr>
        <td>...</td>
        <td>...</td>
        <td>...</td>
    </tr>
</table>


<details>
  <summary>Click to expand raw table</summary>
  <pre style="display:block">
OpenHab 2.0 Rules Generator; 
Dateiname;Output.rules   
Benutzerdefinierter Inhalt;fixed.rules
Regel Vorlagen;templates.rules
;
Tabelle;
Item;Aktion
LightSwitch_LivingRoom;SWITCH_ON
  </pre>
</details>


You can add as many columns and row as you like. Every new row creates a new rule and every column creates a new key/value that can be replaced in a template as explained below.

### templates.rules ###

You should create some template to make things easier. A template has the following format:

```
#template:SWITCH_ON   
when   
	Channel "astro:sun:68b99d43:civilDusk#event" triggered END   
then   
	if (Automate_Light_Switch.state==ON) {   
		sendCommand($ITEM$, ON)   
	}   
end
```

The template name is the value in the "Aktion" column of the rules.csv. Every other column name can be used in the template to be replaced by its value.

### fixed.rules ###

This file is appended to the output file in front of the generated rules. You can simply write an ordinary rules code in here.

### Executing the program ###

Put these three files and the executable into one folder and run the application. The rules will be created and grouped by condition and if statements. Then your output file will be created and you can put it into the folder of your Open Hab 2.0 configuration.


## License ##
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">OpenHab2RulesGenerator</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://github.com/ChriZ982" property="cc:attributionName" rel="cc:attributionURL">ChriZ982</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
